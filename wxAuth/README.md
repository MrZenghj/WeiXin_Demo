## 微信授权demo
### 接口测试号申请
https://mp.weixin.qq.com/wiki?t=resource/res_main&id=mp1421137522  
获取到：appID 、 appsecret  

### 公众号和服务号的网页授权登陆:  
微信开发文档:（公共号） 
https://mp.weixin.qq.com/wiki?t=resource/res_main&id=mp1421140842  
具体而言，网页授权流程分为四步:  
1. 引导用户进入授权页面同意授权，获取code
2. 通过code换取网页授权access_token（与基础支持中的access_token不同）
3. 如果需要，开发者可以刷新网页授权access_token，避免过期
4. 通过网页授权access_token和openid获取用户基本信息（支持UnionID机制）  

## 小结
1. 组装授权地址时，需要注意参数的顺序跟API保持一致
2. 回调地址必须在公网中能访问到的
3. 回调地址域名的设置（网页帐号	网页授权获取用户基本信息 修改 填写回调域名）

+ 外网映射工具（sun ngrok）  
 -- 参照网址自行搭建
 
### 微信开放平台开发
开发步骤，只是调用的接口有些不同。其他基本一致  
### 微信公众号与微信开放平台关联
微信公共号--->授权应用A  
微信开放平台--->授权应用A   
*冲突：openid 各自独立（出现互斥效果*

解决办法：将微信公众号与微信开放平台进行绑定  
开放平台--->管理中心--->公众账号--->绑定认证公众账号--->绑定
例如：鸿集团，鸿影业，鸿百货希望做到会员卡通用，
微信在这里做了一个打通机制，对于同一个企业，在用户属性里面添加一个企业属性（UnionID）,方便同一个企业在不同的产品中识别到同一个用户

如何识别同一个企业呢？那就只要绑定在同一个开放平台下
所有移动应用、网站应用、微信公众号都具备同一个UnionID